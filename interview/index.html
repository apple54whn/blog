<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java 基础 | Conanan</title>
    <meta name="description" content="apple54whn的文档,conanan的文档">
    <link rel="manifest" href="/manifest.json">
    
    <link rel="preload" href="/assets/css/0.styles.2be5de51.css" as="style"><link rel="preload" href="/assets/js/app.d8cb9cb7.js" as="script"><link rel="preload" href="/assets/js/2.3b02efce.js" as="script"><link rel="preload" href="/assets/js/8.d09e1b35.js" as="script"><link rel="preload" href="/assets/js/9.5ceebd53.js" as="script"><link rel="prefetch" href="/assets/js/10.f8026447.js"><link rel="prefetch" href="/assets/js/11.19d3094c.js"><link rel="prefetch" href="/assets/js/12.04fab03d.js"><link rel="prefetch" href="/assets/js/13.96ecc411.js"><link rel="prefetch" href="/assets/js/14.076625fd.js"><link rel="prefetch" href="/assets/js/15.663af154.js"><link rel="prefetch" href="/assets/js/16.8851cfe7.js"><link rel="prefetch" href="/assets/js/17.94a979e8.js"><link rel="prefetch" href="/assets/js/18.923289d1.js"><link rel="prefetch" href="/assets/js/19.95d7a536.js"><link rel="prefetch" href="/assets/js/20.2b3c6974.js"><link rel="prefetch" href="/assets/js/21.661409df.js"><link rel="prefetch" href="/assets/js/22.ca5f0d41.js"><link rel="prefetch" href="/assets/js/23.6de8e3ef.js"><link rel="prefetch" href="/assets/js/24.364196f3.js"><link rel="prefetch" href="/assets/js/3.14089e0c.js"><link rel="prefetch" href="/assets/js/4.0b088ce7.js"><link rel="prefetch" href="/assets/js/5.ecab5bba.js"><link rel="prefetch" href="/assets/js/6.020ec481.js"><link rel="prefetch" href="/assets/js/7.b7b1e947.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2be5de51.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview/" class="nav-link router-link-exact-active router-link-active">面试总结</a></div><div class="nav-item"><a href="/Java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Database</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SQL/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/SQL/Oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/SQL/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/SQL/Spring Data JPA/" class="nav-link">Spring Data JPA</a></li></ul></li><li class="dropdown-item"><h4>NoSQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/NoSQL/Redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/NoSQL/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/NoSQL/Elasticsearch/" class="nav-link">Elasticsearch</a></li></ul></li></ul></div></div> <a href="https://github.com/apple54whn/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview/" class="nav-link router-link-exact-active router-link-active">面试总结</a></div><div class="nav-item"><a href="/Java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Database</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SQL/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/SQL/Oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/SQL/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/SQL/Spring Data JPA/" class="nav-link">Spring Data JPA</a></li></ul></li><li class="dropdown-item"><h4>NoSQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/NoSQL/Redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/NoSQL/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/NoSQL/Elasticsearch/" class="nav-link">Elasticsearch</a></li></ul></li></ul></div></div> <a href="https://github.com/apple54whn/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/interview/" class="active sidebar-link">Java 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/#面向对象的三大特性" class="sidebar-link">面向对象的三大特性</a></li><li class="sidebar-sub-header"><a href="/interview/#jre-和-jdk-跨平台" class="sidebar-link">JRE 和 JDK &amp; 跨平台</a></li><li class="sidebar-sub-header"><a href="/interview/#和-区别" class="sidebar-link">&amp; 和 &amp;&amp; 区别</a></li><li class="sidebar-sub-header"><a href="/interview/#char-类型变量能否存储一个中文汉字？" class="sidebar-link">char 类型变量能否存储一个中文汉字？</a></li><li class="sidebar-sub-header"><a href="/interview/#boolean-占几个字节？" class="sidebar-link">boolean 占几个字节？</a></li><li class="sidebar-sub-header"><a href="/interview/#基本类型和包装类型" class="sidebar-link">基本类型和包装类型</a></li><li class="sidebar-sub-header"><a href="/interview/#装箱与拆箱" class="sidebar-link">装箱与拆箱</a></li><li class="sidebar-sub-header"><a href="/interview/#数字类型循环问题" class="sidebar-link">数字类型循环问题</a></li><li class="sidebar-sub-header"><a href="/interview/#取余取模" class="sidebar-link">取余取模</a></li><li class="sidebar-sub-header"><a href="/interview/#成员变量和局部变量的区别" class="sidebar-link">成员变量和局部变量的区别</a></li><li class="sidebar-sub-header"><a href="/interview/#equals" class="sidebar-link">== &amp; equals</a></li><li class="sidebar-sub-header"><a href="/interview/#作用域-private，protected，public以及不写时的区别" class="sidebar-link">作用域 private，protected，public以及不写时的区别</a></li><li class="sidebar-sub-header"><a href="/interview/#overload-和-overrid-的区别" class="sidebar-link">overload 和 overrid 的区别</a></li><li class="sidebar-sub-header"><a href="/interview/#抽象类和接口的区别" class="sidebar-link">抽象类和接口的区别</a></li><li class="sidebar-sub-header"><a href="/interview/#string、stringbuffer、stringbuilder" class="sidebar-link">String、StringBuffer、StringBuilder</a></li><li class="sidebar-sub-header"><a href="/interview/#stringbuilder-和" class="sidebar-link">StringBuilder 和 +</a></li><li class="sidebar-sub-header"><a href="/interview/#数组有length属性，string有length" class="sidebar-link">数组有length属性，String有length()</a></li><li class="sidebar-sub-header"><a href="/interview/#final-关键字" class="sidebar-link">final 关键字</a></li><li class="sidebar-sub-header"><a href="/interview/#参数传递问题" class="sidebar-link">参数传递问题</a></li><li class="sidebar-sub-header"><a href="/interview/#数据类型转换" class="sidebar-link">数据类型转换</a></li><li class="sidebar-sub-header"><a href="/interview/#取余取模-2" class="sidebar-link">取余取模</a></li><li class="sidebar-sub-header"><a href="/interview/#i-i" class="sidebar-link">++i &amp; i++</a></li><li class="sidebar-sub-header"><a href="/interview/#for-循环问题" class="sidebar-link">for 循环问题</a></li><li class="sidebar-sub-header"><a href="/interview/#bigdecimal使用-值扩大为整数" class="sidebar-link">BigDecimal使用&amp;值扩大为整数</a></li><li class="sidebar-sub-header"><a href="/interview/#交换变量的三种方式" class="sidebar-link">交换变量的三种方式</a></li><li class="sidebar-sub-header"><a href="/interview/#object类的常见方法" class="sidebar-link">Object类的常见方法</a></li><li class="sidebar-sub-header"><a href="/interview/#浅克隆与深克隆" class="sidebar-link">浅克隆与深克隆</a></li><li class="sidebar-sub-header"><a href="/interview/#一个对象的实例化过程" class="sidebar-link">一个对象的实例化过程</a></li><li class="sidebar-sub-header"><a href="/interview/#异常分类" class="sidebar-link">异常分类</a></li><li class="sidebar-sub-header"><a href="/interview/#throw-和-throws-区别" class="sidebar-link">throw 和 throws 区别</a></li><li class="sidebar-sub-header"><a href="/interview/#try-finally-return-问题" class="sidebar-link">try...finally return 问题</a></li><li class="sidebar-sub-header"><a href="/interview/#final-finally-finallize-区别" class="sidebar-link">final finally finallize 区别</a></li><li class="sidebar-sub-header"><a href="/interview/#java-io流有几种？抽象类有什么？" class="sidebar-link">Java IO流有几种？抽象类有什么？</a></li><li class="sidebar-sub-header"><a href="/interview/#什么是java-序列化，如何实现？" class="sidebar-link">什么是java 序列化，如何实现？</a></li><li class="sidebar-sub-header"><a href="/interview/#能不能自己写个类，也叫java-lang-string？" class="sidebar-link">能不能自己写个类，也叫java.lang.String？</a></li><li class="sidebar-sub-header"><a href="/interview/#math-round-11-5-11" class="sidebar-link">Math.round(-11.5) = -11</a></li><li class="sidebar-sub-header"><a href="/interview/#_4-10-1-4" class="sidebar-link">4&amp;10&gt;&gt;1=4</a></li><li class="sidebar-sub-header"><a href="/interview/#jvm-如何加载类？" class="sidebar-link">JVM 如何加载类？</a></li><li class="sidebar-sub-header"><a href="/interview/#jvm-内存结构？" class="sidebar-link">JVM 内存结构？</a></li><li class="sidebar-sub-header"><a href="/interview/#jvm-调优" class="sidebar-link">JVM 调优</a></li><li class="sidebar-sub-header"><a href="/interview/#jvm-垃圾处理" class="sidebar-link">JVM 垃圾处理</a></li><li class="sidebar-sub-header"><a href="/interview/#面向对象七大设计原则" class="sidebar-link">面向对象七大设计原则</a></li><li class="sidebar-sub-header"><a href="/interview/#设计模式" class="sidebar-link">设计模式</a></li><li class="sidebar-sub-header"><a href="/interview/#工厂方法模式" class="sidebar-link">工厂方法模式</a></li><li class="sidebar-sub-header"><a href="/interview/#单例模式" class="sidebar-link">单例模式</a></li><li class="sidebar-sub-header"><a href="/interview/#装饰者模式" class="sidebar-link">装饰者模式</a></li><li class="sidebar-sub-header"><a href="/interview/#日期时间处理" class="sidebar-link">日期时间处理</a></li></ul></li><li><a href="/interview/集合.html" class="sidebar-link">集合</a></li><li><a href="/interview/多线程.html" class="sidebar-link">多线程</a></li><li><a href="/interview/SQL.html" class="sidebar-link">数据库</a></li><li><a href="/interview/NoSQL.html" class="sidebar-link">NoSQL</a></li><li><a href="/interview/Java Web.html" class="sidebar-link">Java Web</a></li><li><a href="/interview/Spring.html" class="sidebar-link">Spring</a></li><li><a href="/interview/Tools.html" class="sidebar-link">系统、工具</a></li><li><a href="/interview/项目技术.html" class="sidebar-link">项目技术</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java-基础"><a href="#java-基础" aria-hidden="true" class="header-anchor">#</a> Java 基础</h1> <h2 id="面向对象的三大特性"><a href="#面向对象的三大特性" aria-hidden="true" class="header-anchor">#</a> 面向对象的三大特性</h2> <ul><li><p><strong>封装</strong>：是指将<strong>类的实现细节隐藏</strong>起来，然后通过<strong>公共的方法暴露</strong>出该类的功能。</p></li> <li><p><strong>继承</strong>：继承是面向对象实现<strong>软件复用</strong>的重要手段，是使用已存在的类作为基础建立新类的技术。</p> <p>但是继承是强耦合且破坏了封装性。</p></li> <li><p><strong>多态</strong>：<strong>父类引用指向子类对象，通过该引用调用时存在编译期不确定性，运行期确定。</strong></p> <blockquote><p>方法重载（@overload）实现编译时多态性；方法重写（@override）实现运行时多态性。</p></blockquote> <p>实现运行时多态前提：<strong>继承或实现</strong>；<strong>方法的重写</strong>（不重写无意义）；<strong>父类引用指向子类对象</strong>（即向上转型）。</p></li> <li><p>抽象：将一类事物抽取我们所关注的<strong>属性和行为</strong>，形成新的事物的思维过程。</p></li></ul> <div class="tip custom-block"><p>This is a tip</p></div> <div class="warning custom-block"><p>This is a warning</p></div> <div class="danger custom-block"><p class="custom-block-title">STOP</p> <p>This is a dangerous warning</p></div> <h2 id="jre-和-jdk-跨平台"><a href="#jre-和-jdk-跨平台" aria-hidden="true" class="header-anchor">#</a> JRE 和 JDK &amp; 跨平台</h2> <ul><li>JRE(Java Runtime Environment)：是Java程序的运行时环境，包含 <strong>JVM</strong> 和运行时所需要的<strong>核心类库</strong> 。</li> <li>JDK (Java Development Kit)：是Java程序开发工具包，包含 <strong>JRE</strong> 和<strong>开发人员使用的工具</strong>。</li> <li>通过不同操作系统上的JVM来<strong>屏蔽不同操作系统间指令集的不同</strong>。</li></ul> <h2 id="和-区别"><a href="#和-区别" aria-hidden="true" class="header-anchor">#</a> &amp; 和 &amp;&amp; 区别</h2> <ul><li>都可以作为<strong>逻辑与运算符</strong>，运算符两边都为 true 时结果才为 true；</li> <li>&amp;&amp; 还有<strong>短路功能</strong>，运算符左边为 false ，则不再计算右边的值；&amp; 则需要都计算</li> <li><strong>&amp; 可以做位运算符</strong>，&amp; 两边表达式不是布尔类型时表示按位与。整数与0x0F按位与表示取最低4位</li></ul> <h2 id="char-类型变量能否存储一个中文汉字？"><a href="#char-类型变量能否存储一个中文汉字？" aria-hidden="true" class="header-anchor">#</a> char 类型变量能否存储一个中文汉字？</h2> <p>char型变量是用来存储Unicode编码的字符的，读取到JVM中时会将字符编码转为UTF-16来存储，占两个字节，可以存储大部分非生僻字。（UTF-8位不定长，3个字节存储中文汉字。）</p> <h2 id="boolean-占几个字节？"><a href="#boolean-占几个字节？" aria-hidden="true" class="header-anchor">#</a> boolean 占几个字节？</h2> <p>在《Java虚拟机规范》给出了4个字节（编译后用int替代），和boolean数组1个字节的定义（当byte数组处理）</p> <h2 id="基本类型和包装类型"><a href="#基本类型和包装类型" aria-hidden="true" class="header-anchor">#</a> 基本类型和包装类型</h2> <ul><li>基本类型存储在栈中，初始值如int为0，boolean为false</li> <li>包装类型存储在堆中，初始值为null（可以区分未赋值与0区别）</li></ul> <h2 id="装箱与拆箱"><a href="#装箱与拆箱" aria-hidden="true" class="header-anchor">#</a> 装箱与拆箱</h2> <ul><li>装箱：将基本数据类型的值转为引用数据类型。方法有如<code>Integer.valueOf(int num/String str)</code></li> <li>拆箱：将引用数据类型的值转为基本数据类型。方法有如<code>.intValue()</code></li></ul> <p><strong>基本类型的包装类（除浮点数）都有其缓存，Boolean为<code>true、false</code>，Character为<code>0~127</code>，其他为<code>-128~127</code></strong></p> <blockquote><p>包装类都重写Object类中的<code>toString()</code> 方法，以<strong>字符串</strong>形式返回包装类的基本数据类型的值</p> <p>除了Character外，包装类都有<code>valueOf(String s)</code>方法，根据String类型参数创建包装类对象</p> <p>除了Character外，包装类都有<code>parseXXX(String s)</code>的静态方法，将字符串转为基本类型数据</p></blockquote> <h2 id="数字类型循环问题"><a href="#数字类型循环问题" aria-hidden="true" class="header-anchor">#</a> 数字类型循环问题</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">B</span> <span class="token operator">=</span> <span class="token class-name">A</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token class-name">B</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token class-name">A</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>若是i&lt;A，则循环一次即可，输出1；</p> <p>若是i&lt;=A，就不是2次那么简单了。第二次i与A相等，执行count++后继续执行i++，此时i超出Integer最大值，变为Integer的最小值-2147483648，继续循环下去了。。。</p> <h2 id="取余取模"><a href="#取余取模" aria-hidden="true" class="header-anchor">#</a> 取余取模</h2> <p>C、C++、java、JavaScript中%是取余，Python中%是取模，只对于整数有意义</p> <p>==区别在于第一步的商<strong>趋于0(取余)</strong>、<strong>趋于负无穷(取模)</strong>，<strong>取余和取模同符号数结果相同</strong>==</p> <div class="language-java extra-class"><pre class="language-java"><code>取余<span class="token punctuation">(</span>结果符号取决于被除数<span class="token punctuation">)</span>				取模<span class="token punctuation">(</span>结果符号取决于模数<span class="token punctuation">)</span>
<span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span>；					 			<span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span>；
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>							 <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span>；
<span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>								 <span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>；
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>							 <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">1</span>；
</code></pre></div><h2 id="成员变量和局部变量的区别"><a href="#成员变量和局部变量的区别" aria-hidden="true" class="header-anchor">#</a> 成员变量和局部变量的区别</h2> <ul><li>成员变量属于<strong>类或实例</strong>（可以被访问权限修饰符、static、final等修饰）；局部变量属于<strong>方法</strong>（最多只能被final修饰）</li> <li>成员变量在<strong>堆</strong>内存中；局部变量在<strong>栈</strong>内存中</li> <li>成员变量<strong>有默认初始值</strong>；局部变量没有默认初始值；</li></ul> <h2 id="equals"><a href="#equals" aria-hidden="true" class="header-anchor">#</a> == &amp; equals</h2> <ul><li><p><code>==</code>：都是比较变量在内存（栈）中的值。<strong>基本类型</strong>：比较值是否相等；<strong>引用类型</strong>：比较地址值是否相等</p></li> <li><p><code>equals()</code>：只能比较<strong>引用类型</strong>，底层调用<code>==</code>，比较地址值是否相等。一般根据需要重写，<code>String</code>重写了。</p> <p>一般推荐使用<code>Objects.equals(String a, String b)</code>来代替。其底层<code>(a == b) || (a != null &amp;&amp; a.equals(b))</code></p></li></ul> <h2 id="作用域-private，protected，public以及不写时的区别"><a href="#作用域-private，protected，public以及不写时的区别" aria-hidden="true" class="header-anchor">#</a> 作用域 private，protected，public以及不写时的区别</h2> <ul><li>private：类访问权限</li> <li>不写：包访问权限</li> <li>protected：子类访问权限、包访问权限</li> <li>public：都能被访问</li></ul> <p>外部类的修饰符只能是 public 或默认；类的成员（包括内部类）的修饰符可以是以上四种</p> <p>一个Java文件中可以有多个类，但是public修饰的只能有一个，且类名和文件名一致！</p> <h2 id="overload-和-overrid-的区别"><a href="#overload-和-overrid-的区别" aria-hidden="true" class="header-anchor">#</a> overload 和 overrid 的区别</h2> <ul><li><p>重载：<strong>同一类</strong>中<strong>方法名相同</strong>，<strong>参数列表不同</strong>(类型 或 个数 或 多类型顺序 不同)</p> <p>与访问修饰符、返回值类型（可能只调用，不需要返回值）、参数名无关！</p></li> <li><p>重写：<strong>父子类</strong>中，<strong>方法名</strong>、<strong>参数列表必须相同</strong>（不同则是特有方法）。满足以下条件为重写：</p> <ul><li><p><strong>访问权限</strong>必须大于等于父类权限</p></li> <li><p><strong>返回值类型</strong>，对象类型必须小于等于父类（如Object、String）；基本类型必须一致！</p></li> <li><p><strong>抛出的异常类型</strong>小于等于父类方法的异常类型</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span> <span class="token comment">//重写中，子类方法抛出异常类型必须小于等于父类方法</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//下面哪些方法可以出现在Father的子类中？</span>
<span class="token keyword">public</span><span class="token operator">/</span><span class="token keyword">private</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">short</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//参数列表都不同了，是子类特有方法</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//可以，方法重写</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//不可以，权限小</span>
<span class="token keyword">public</span> <span class="token keyword">short</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//不可以，返回类型为基本类型必须一致！</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//不可以，条件都满足，但是静态方法只能覆盖静态方法！！！</span>
</code></pre></div><p>若父类中有<strong>私有方法、静态方法</strong>，因为和<strong>类相关</strong>，子类也可以存在完全一样的方法，<strong>不是重写</strong>！</p></li></ul></li></ul> <h2 id="抽象类和接口的区别"><a href="#抽象类和接口的区别" aria-hidden="true" class="header-anchor">#</a> 抽象类和接口的区别</h2> <ul><li><p>接口中<strong>没有成员变量</strong>，<strong>常量是静态其赋值</strong>的，默认修饰符<code>[public static final]</code>；而抽象类都可以有</p></li> <li><p>接口<strong>没有静态代码块、构造代码块、构造方法</strong>（其实现类继承<code>Object</code>，提供无参构造）；抽象类中都可以有</p></li> <li><p>接口中<strong>抽象方法有默认修饰符</strong><code>[public abstract]</code>。在Java 8 后有<strong>默认方法可以实现</strong>，有<strong>静态方法</strong>，但只能接口名调用！</p> <p>抽象类可以有抽象方法（用<code>abstract</code>修饰，除了不可以用<code>private</code>来权限修饰）或非抽象方法（也可以有静态方法）</p> <blockquote><p>实现类实现的多个接口中，存在<strong>重复的抽象方法</strong>，那么<strong>只需重写一次</strong>即可</p> <p>实现类实现的多个接口中，存在<strong>重复的默认方法</strong>，那么<strong>必须重写</strong>冲突的默认方法</p> <p>实现类的<strong>直接父类中的方法</strong>和<strong>接口中默认方法产生冲突</strong>，则优先<strong>使用父类</strong>中的方法</p></blockquote></li> <li><p>一个类可以<strong>实现多个接口（接口之间可以多继承）</strong>，但<strong>只能继承一个类</strong>（包括抽象类）</p></li> <li><p>一个类实现接口<strong>必须实现除默认方法、静态方法外的所有抽象方法</strong>，除非它是抽象类；继承抽象类同此</p></li> <li><p>接口是<strong>自上而下</strong>，定义<strong>通信规范</strong>；抽象类是<strong>自底而上</strong>的设计，在子类中重复出现的工作，<strong>抽象</strong>到抽象类中</p></li></ul> <p>接口和抽象类的选择</p> <ul><li>如果要创建不带任何方法定义和成员变量的基类，那么就应该选择接口而不是抽象类</li> <li>只有在必须要有方法定义和成员变量的时候，才应该选择抽象类</li></ul> <h2 id="string、stringbuffer、stringbuilder"><a href="#string、stringbuffer、stringbuilder" aria-hidden="true" class="header-anchor">#</a> String、StringBuffer、StringBuilder</h2> <ul><li><p><code>String</code>对象<strong>不可变</strong>（引用可变），线程<strong>安全</strong>。</p> <blockquote><ul><li><p><code>String</code><strong>类</strong>及其所有<strong>属性如<code>char[]</code>（Java 9为<code>byte[]</code>）都被声明为<code>final</code></strong>，其<strong>值在创建后不能被更改</strong></p></li> <li><p>由于它的不可变性，类似拼接裁剪等操作，都<strong>可能产生新的String对象</strong>（取决于常量池中是否存在）对性能有影响。</p> <p>==<strong>只有</strong>通过引号<strong>直接赋值</strong>的方式定义的会放入字符串常量池中==；但是<code>new String</code>方式定义的<strong>不会放入字符串常量池</strong></p> <p>字符串若是==<strong>变量相加，先开空间再拼接</strong>==；若是==<strong>常量先加，然后在常量池中找</strong>==，==有就返回，没有就创建==。</p></li> <li><p><strong>重写了<code>equals</code>和<code>hashCode</code>方法</strong></p></li></ul></blockquote></li> <li><p><strong>StringBuffer是同步的，数据安全，效率低；StringBuilder是不同步的，数据不安全，效率高</strong>；都是可变的。</p> <blockquote><ul><li>底层是维护了<code>char[]</code>（Java 9为<code>byte[]</code>），内部数组初始值为16。扩容利用了<code>Arrays.copyOf</code>底层是<code>System.arraycopy()</code>方法</li> <li>但是这俩都<strong>没有重写<code>equals</code>和<code>hashCode</code>方法</strong>。作为元素放入Hash类集合中时会出现问题</li> <li><code>StringBuilder</code>与<code>StringBuffer</code>有公共父类<code>AbstractStringBuilder</code>。</li></ul></blockquote></li></ul> <ul><li><p>下述两种方法分别创建了几个 Sring 对象？</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 第一种：直接赋一个字面量</span>
<span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 第二种：通过构造器创建</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>第一个：最多创建一个String对象，最少不创建String对象。</p> <p>如果常量池中存在<code>ABCD</code>，那么str1直接引用，此时不创建String对象；否则先在常量池中创建<code>ABCD</code>内存空间再引用</p></li> <li><p>最多创建两个String对象，至少创建一个String对象。</p> <p>new关键字绝对会在堆空间创建一块新的内存区域，所以至少创建一个String对象</p></li></ul></li></ul> <h2 id="stringbuilder-和"><a href="#stringbuilder-和" aria-hidden="true" class="header-anchor">#</a> StringBuilder 和 +</h2> <p>在JDK1.5之后，+ 的内部采用StringBuilder 实现，但是若在循环中使用+来拼接字符串，会创建多个StringBuilder 对象，GC回收不及时会占用大量资源。所以字符串拼接时（特别在循环中）最好使用StringBuilder。</p> <h2 id="数组有length属性，string有length"><a href="#数组有length属性，string有length" aria-hidden="true" class="header-anchor">#</a> 数组有length属性，String有length()</h2> <h2 id="final-关键字"><a href="#final-关键字" aria-hidden="true" class="header-anchor">#</a> final 关键字</h2> <p><strong>ﬁnal</strong>：用于<strong>修饰不可改变内容</strong>。可以用于修饰类、变量和方法。</p> <ul><li><p><strong>类</strong>：被修饰的类，<strong>不能被继承</strong>。</p></li> <li><p><strong>方法</strong>：被修饰的方法，<strong>不能被重写</strong>。</p></li> <li><p><strong>变量</strong>：被修饰的变量，<strong>初始化之后不能改变</strong>。</p> <ul><li><p><strong>成员变量</strong></p> <p>由于成员变量有默认值，用final修饰后<strong>必须手动赋值</strong>，否则编译失败</p> <p>要么<strong>显示初始化</strong>；要么通过<strong>静态代码块、构造代码块、构造方法赋值</strong>（并删除setter）</p></li> <li><p><strong>局部变量</strong></p> <ul><li>基本类型：只能<strong>显示初始化赋值一次</strong>，<strong>不能再更改</strong>。</li> <li>引用类型：只能指向一个对象，<strong>地址不能再更改</strong>。不影响内部成员变量的修改</li></ul></li></ul></li></ul> <h2 id="参数传递问题"><a href="#参数传递问题" aria-hidden="true" class="header-anchor">#</a> 参数传递问题</h2> <ul><li>基本数据类型：形式参数的改变不影响实际参数（基本类型的包装类也符合这条规则）</li> <li>引用数据类型：形式参数中<strong>属性的改变影响</strong>实际参数（若不是属性改变，则并不影响）</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//127也是一样</span>
    <span class="token function">change</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第二行中i是多少这里就是多少</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>【下题重点】在于<strong>String内容不可变</strong>并且变量相加需要开空间再拼接，StringBuilder等内容可以变</p> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  <span class="token function">change</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  
  <span class="token class-name">StringBuffer</span> sb1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">StringBuffer</span> sb2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  <span class="token function">change</span><span class="token punctuation">(</span>sb1<span class="token punctuation">,</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---worldworld</span>
  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">String</span> s1<span class="token punctuation">,</span> <span class="token class-name">String</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	s1 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
  	s2 <span class="token operator">=</span> s1<span class="token operator">+</span>s2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">StringBuffer</span> sb1<span class="token punctuation">,</span> <span class="token class-name">StringBuffer</span> sb2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	sb1 <span class="token operator">=</span> sb2<span class="token punctuation">;</span>
  	sb2 <span class="token operator">=</span> sb1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/xingcanshican.4d1e2d02.png" alt=""></p> <p>​</p> <h2 id="数据类型转换"><a href="#数据类型转换" aria-hidden="true" class="header-anchor">#</a> 数据类型转换</h2> <ul><li><p><strong>自动类型转换</strong>(隐式)，范围<strong>小</strong>的类型向范围<strong>大</strong>的<strong>类型提升</strong>，如下：</p> <p>==<strong>参与运算时byte，short，char</strong>——&gt;<strong>int</strong>——&gt;<strong>long</strong>——&gt;<strong>float</strong>——&gt;<strong>double</strong>(boolean不参与)==</p> <p>==<strong>编译器的常量优化</strong>==</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">byte</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//对于byte、short、char三种类型来说，若右侧赋值的数值(不能为变量)没有超过范围，</span>
<span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token comment">//javac编译器会自动隐含得帮我们补上(byte) (short) (char) ，否则编译报错</span>

<span class="token keyword">byte</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token comment">//运算期间byte类型变量自动提升为int，但int类型不能赋值给byte类型，因此编译失败。</span>
<span class="token keyword">byte</span> d <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token comment">//常量在编译的时候（javac），已经确定了 3+4 的结果并没有超过byte类型的取值范围，可以赋值给d，成功</span>

<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ch <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//66</span>
</code></pre></div></li> <li><p><strong>强制类型转换</strong>(显式)。一般不推荐使用，有可能发生<strong>精度损失</strong>(浮点转成整数，直接取消小数)，<strong>数据溢出</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</code></pre></div><p>==<strong>在使用+=、-=、*=、/=、%=运算符进行赋值时，强制类型转换会自动完成</strong>==</p></li></ul> <h2 id="取余取模-2"><a href="#取余取模-2" aria-hidden="true" class="header-anchor">#</a> 取余取模</h2> <p>（C、C++、java、JavaScript中%是取余，Python中%是取模），只对于整数有意义</p> <p>==区别在于第一步的商<strong>趋于0(取余)</strong>、<strong>趋于负无穷(取模)</strong>，<strong>取余和取模同符号数结果相同</strong>==</p> <div class="language-java extra-class"><pre class="language-java"><code>取余<span class="token punctuation">(</span>结果符号取决于被除数<span class="token punctuation">)</span>				取模<span class="token punctuation">(</span>结果符号取决于模数<span class="token punctuation">)</span>
<span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span>；					 			<span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span>；
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>							 <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span>；
<span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>								 <span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>；
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>							 <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">1</span>；
</code></pre></div><h2 id="i-i"><a href="#i-i" aria-hidden="true" class="header-anchor">#</a> ++i &amp; i++</h2> <p>实际上，不管是前置 ++，还是后置 ++，都是先将变量的值加 1，然后才继续计算的。二者之间真正的区别是：</p> <ul><li>前置 ++ 是将变量的值加 1 后，使用增值后的变量进行运算的</li> <li>后置 ++ 是首先将变量赋值给一个临时变量，接下来对原有变量的值加 1，然后使用那个临时变量进行运算。</li></ul> <p>都不是原子操作！！！</p> <h2 id="for-循环问题"><a href="#for-循环问题" aria-hidden="true" class="header-anchor">#</a> for 循环问题</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    j <span class="token operator">=</span> j<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//0</span>
    <span class="token comment">//j+=1; //100</span>
    <span class="token comment">//j++; //100</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="bigdecimal使用-值扩大为整数"><a href="#bigdecimal使用-值扩大为整数" aria-hidden="true" class="header-anchor">#</a> BigDecimal使用&amp;值扩大为整数</h2> <ul><li>尽量使用参数类型为<strong>String</strong>的构造函数。</li> <li>BigDecimal都是不可变的（immutable）的，在进行每一步运算时，都会产生一个新的对象，所以在做加减乘除运算时千万要<strong>保存操作后的值</strong>。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">200000.8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">170000.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">BigDecimal</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//减法</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>或将<strong>值扩大为整数后再做加减</strong>。</p> <h2 id="交换变量的三种方式"><a href="#交换变量的三种方式" aria-hidden="true" class="header-anchor">#</a> 交换变量的三种方式</h2> <ol><li><p>第三个变量</p></li> <li><p>相加（不推荐，数值大的时候可能会溢出）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>异或</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="object类的常见方法"><a href="#object类的常见方法" aria-hidden="true" class="header-anchor">#</a> Object类的常见方法</h2> <ol><li><p>**<code>toString()</code>**返回对象的字符串表示。直接打印输出一个对象名称，默认调用该方法</p> <ul><li><p><strong>默认打印的地址值</strong>是由类的全名+'@'+哈希值的十六进制表示，没意义所以一般由<strong>子类重写</strong></p> <p><code>getClass().getName()+&quot;@&quot;toHexString(hashCode());</code></p></li></ul></li> <li><p><strong><code>equals()</code><strong>比较两个对象是否相同，底层用的是</strong><code>==</code></strong>。<code>String</code>重写了该方法</p> <ul><li><strong>默认</strong>情况下<strong>比较的是对象地址值</strong>是否相同，没意义所以一般由<strong>子类重写</strong>，注意多态向下转型问题
<ul><li>与自身比较；</li> <li>null或不属同一类；</li> <li>向下转型比较（基本类型用==，引用类型用**<code>Objects.equals()</code>**）</li></ul></li></ul></li> <li><p><strong><code>hashCode()</code><strong>返回</strong>对象的哈希值</strong>，十进制整数，不是实际地址值，是<strong>逻辑地址值</strong></p> <ul><li>使用<strong>Set、Map中键</strong>时需要<strong>给添加的自定义类重写</strong><code>hashCode()</code>和<code>equals()</code></li></ul></li> <li><p><code>getClass()</code>返回对象的字节码文件对象，反射中讲解</p></li> <li><p><code>finalize()</code><strong>垃圾回收</strong>，不确定时间，可以调用<code>System.gc()</code>立即回收</p></li> <li><p><code>clone()</code>实现对象<strong>克隆</strong>，包括成员变量的数据复制，但是它和两个引用指向同一个对象是有区别的</p></li> <li><p><code>notify()</code>native方法，并且不能重写。唤醒一个在此对象监视器上等待的线程(监视器相当于就是锁的概念)。如果有多个线程在等待只会任意唤醒一个。</p></li> <li><p><code>notifyAll()</code>native方法，并且不能重写。跟notify一样，唯一的区别就是会唤醒在此对象监视器上等待的所有线程，而不是一个线程。</p></li> <li><p><code>wait(long timeout) throws InterruptedException</code>native方法，并且不能重写。暂停线程的执行。注意：sleep方法没有释放锁，而wait方法释放了锁 。timeout是等待时间。</p></li> <li><p><code>wait(long timeout, int nanos) throws InterruptedException</code>多了nanos参数，这个参数表示额外时间（以毫微秒为单位，范围是 0-999999）。 所以超时的时间还需要加上nanos毫秒。</p></li> <li><p><code>wait() throws InterruptedException</code>跟之前的2个wait方法一样，只不过该方法一直等待，没有超时时间这个概念</p> <p>​</p></li></ol> <h2 id="浅克隆与深克隆"><a href="#浅克隆与深克隆" aria-hidden="true" class="header-anchor">#</a> 浅克隆与深克隆</h2> <ul><li>浅克隆：对于被克隆对象中的<strong>引用类型</strong>，<strong>只复制其地址值</strong>。实现Cloneable 接口，重写clone方法，修改访问修饰符为public</li> <li>深克隆：<strong>复制被克隆对象的所有类型成员变量</strong>。实现Serializable接口，通过对象的序列化和反序列化实现克隆</li></ul> <h2 id="一个对象的实例化过程"><a href="#一个对象的实例化过程" aria-hidden="true" class="header-anchor">#</a> 一个对象的实例化过程</h2> <ol><li><p>JVM加载<code>main()</code>所属的类的<code>.class</code>文件，<strong>若有基类则先加载基类</strong>（总是在使用时加载其<code>.class</code>文件）</p> <p>执行<strong>根基类</strong>对应<code>.class</code>中<strong>static初始化</strong>（<u>静态成员变量和静态代码块，按其定义顺序执行</u>)，然后是下一个派生类的static初始化，以此类推。（类<strong>第一次</strong>被<strong>加载</strong>或<strong>创建</strong>对象或访问静态数据成员时。只声明不能算是加载了）</p></li> <li><p>在用构造器<strong>创建对象</strong>时，在<strong>堆中为对象分配空间</strong>，执行构造器初始化</p> <ol><li>先根据隐藏的第一行**<code>super()</code><strong>来到</strong>根基类**的无参构造器</li> <li>执行根基类的<strong>非静态成员变量的默认初始化，显式初始化</strong>和<strong>构造代码块的初始化</strong>（<u>后俩按其定义顺序执行</u>）</li> <li>然后执行根基类<strong>构造器定义的初始化</strong></li> <li>然后执行下一个派生类的<code>super()</code>后的以上操作</li></ol></li> <li><p>初始化完毕后，将地址<strong>赋值</strong>给引用变量。</p></li></ol> <p>【注意】方法重写</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;1 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;2 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;3 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;4 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;5 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;6 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;7 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;8 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;9 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;10 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//也可以放在其他类中</span>
        <span class="token class-name">Son</span> son1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5 1 10 6 9 3 2 9 8 7 </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Son</span> son2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//9 3 2 9 8 7 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="异常分类"><a href="#异常分类" aria-hidden="true" class="header-anchor">#</a> 异常分类</h2> <ul><li>Java中所有异常的根类是<code>java.lang.Throwable</code>，其下有两个子类：
<ul><li><p><code>java.lang.Error</code>：<strong>程序无法处理的错误</strong>，表示运行应用程序中较严重问题。</p> <p>如<code>OutOfMemoryError</code>、<code>StackOverflowError</code>（递归）</p></li> <li><p><code>java.lang.Exception</code>：<strong>程序可以处理的错误</strong>，根据在编译时期还是运行时期去检查异常分为如下两类：</p> <ul><li><p><code>RuntimeException</code>：<strong>运行时异常</strong></p> <p>如<code>NullPointerException</code>，<code>ArrayIndexOutOfBoundsException</code>，<code>ArithmeticException</code>，</p> <p><code>ClassCastException</code>，<code>IllegalArgumentException</code>，<code>IllegalStateException</code></p></li> <li><p>除过运行时异常外的都是<strong>编译时异常</strong></p> <p>如<code>IOException</code>，<code>SQLException</code>，<code>ClassNotFoundException</code></p></li></ul></li></ul></li></ul> <h2 id="throw-和-throws-区别"><a href="#throw-和-throws-区别" aria-hidden="true" class="header-anchor">#</a> throw 和 throws 区别</h2> <ul><li><p><code>throw</code>和<code>throws</code>区别</p> <ul><li><p><code>throw</code>：在<strong>方法体中</strong>抛出一个异常对象。程序执行到此时立即停止，它后面的语句不执行。说明这里<strong>肯定有异常</strong>产生。</p> <p>【注意】throw语句后不能跟其他代码，否则永远执行不到，编译错误</p></li> <li><p><code>throws</code>：在<strong>方法声明上</strong>，这个异常不一定会产生，是一种<strong>可能性</strong></p></li></ul></li></ul> <h2 id="try-finally-return-问题"><a href="#try-finally-return-问题" aria-hidden="true" class="header-anchor">#</a> try...finally return 问题</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">fin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token comment">//最终返回40。这里若修改为return 4，最终就返回4</span>
        <span class="token comment">// 若没有return a;这行代码，则无论a怎么变化，还是会返回10；</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>【注意】如果<strong>finally有return语句</strong>，将<strong>覆盖</strong>原始的返回值，永远返回finally中的值。一般应避免该情况</p> <h2 id="final-finally-finallize-区别"><a href="#final-finally-finallize-区别" aria-hidden="true" class="header-anchor">#</a> final finally finallize 区别</h2> <ul><li><code>final</code>：最终意思，可以修饰类、成员变量、成员方法。</li> <li><code>finally</code>：异常处理，用于释放资源，finally中的代码一定会被执行，除非：
<ul><li>执行之前jvm退出<code>System.exit(0)</code>；finally中发生异常；程序所在线程死亡；关闭CPU；</li></ul></li> <li><code>finalize</code>：Object类的一个方法，用于<strong>垃圾回收</strong></li></ul> <h2 id="java-io流有几种？抽象类有什么？"><a href="#java-io流有几种？抽象类有什么？" aria-hidden="true" class="header-anchor">#</a> Java IO流有几种？抽象类有什么？</h2> <ul><li><p>字节流：InputStream、OutputStream</p></li> <li><p>字符流：Reader、Writer</p> <p>转换流的InputStreamReader、OutputStreamWriter也是字符流，唯一可以指定字符集的流！</p></li></ul> <h2 id="什么是java-序列化，如何实现？"><a href="#什么是java-序列化，如何实现？" aria-hidden="true" class="header-anchor">#</a> 什么是java 序列化，如何实现？</h2> <ul><li>把<strong>Java对象保存为二进制字节码</strong>的过程，可用于传输。反序列化相反。</li> <li>可以使用ObjectOutputStream的writeObject来实现；或让被传输的对象<strong>实现 serializable 标记接口</strong>，编译时就会特殊处理</li> <li>若类中有不想被序列化的字段，使用<code>transient</code>关键字修饰即可</li></ul> <h2 id="能不能自己写个类，也叫java-lang-string？"><a href="#能不能自己写个类，也叫java-lang-string？" aria-hidden="true" class="header-anchor">#</a> 能不能自己写个类，也叫java.lang.String？</h2> <p>可以，但是在使用的时候必须用自己的类加载器来加载，否则系统的类加载器只会加载jre.jar包中的String类。</p> <p>在 Tomcat 的 web 应用，都是由 webapp 自己的类加载器先自己加载 WEB-INF/classess 目录中的类，若在这里面写了String 类，Servlet程序加载的就是自己写的String 类。</p> <h2 id="math-round-11-5-11"><a href="#math-round-11-5-11" aria-hidden="true" class="header-anchor">#</a> Math.round(-11.5) = -11</h2> <p>算法为Math.floor(x+0.5)：为向下取<strong>小</strong>，并取整</p> <h2 id="_4-10-1-4"><a href="#_4-10-1-4" aria-hidden="true" class="header-anchor">#</a> 4&amp;10&gt;&gt;1=4</h2> <p>值为4，&gt;&gt;优先级高</p> <h2 id="jvm-如何加载类？"><a href="#jvm-如何加载类？" aria-hidden="true" class="header-anchor">#</a> JVM 如何加载类？</h2> <p>程序在运行期JVM通过<strong>加载、连接、初始化</strong>来加载类：</p> <ul><li><p><strong>加载</strong>：JVM<strong>获取类的二进制字节流，将其数据放入方法区，并生成Class对象放入堆中</strong>。</p> <ul><li><p>Bootstrap ClassLoader（引导类加载器）：由C实现，在Java中没有对象，为null。负责加载存放在 <code>JDK\jre\lib</code>的类</p></li> <li><p>ExtensionClassLoader（扩展类加载器）：负责加载 <code>JDK\jre\lib\ext</code>目录中的类</p></li> <li><p>Application ClassLoader（应用类加载器）：负责加载用户类路径（ClassPath）所指定的类</p> <p><strong>双亲委派模型</strong>：若一个类加载器收到了类加载的请求，它首先把请求委托给父加载器去完成，父类完成不了再传给子类</p></li></ul></li> <li><p><strong>连接</strong>：</p> <ul><li><strong>验证</strong>：确保被加载类符合虚拟机要求</li> <li><strong>准备</strong>：为类的静态变量分配内存，隐式初始化。</li> <li><strong>解析</strong>（也可能在初始化后开始，为了支持Java运行时绑定）：把类中符号引用替换为直接引用</li></ul></li> <li><p><strong>初始化</strong>：对类初始化</p></li> <li><p>使用：</p></li> <li><p>卸载：</p></li></ul> <h2 id="jvm-内存结构？"><a href="#jvm-内存结构？" aria-hidden="true" class="header-anchor">#</a> JVM 内存结构？</h2> <ul><li><strong>方法区</strong>（线程共享区域，Java8使用元空间（meta space）来实现）：存储已被JVM加载的<strong>Class数据信息</strong></li> <li><strong>堆</strong>（线程共享区域）：<strong>存放对象实例</strong>（不绝对），分为新生代、老年代等，为了方便GC。</li> <li><strong>栈</strong>（线程私有）：<strong>每个方法执行时创建栈帧，存储局部变量</strong>等信息</li> <li><strong>本地方法栈</strong>（线程私有）：操作系统相关方法</li> <li><strong>PC计数器</strong>（线程私有）：指向当前线程执行的<strong>字节码指令地址</strong></li></ul> <h2 id="jvm-调优"><a href="#jvm-调优" aria-hidden="true" class="header-anchor">#</a> JVM 调优</h2> <ul><li><code>OutOfMemoryError</code>系统内存被占满，：unable to create new native thread，操作系统没有足够的资源来产生这个线程造成的。当系统内存固定时，分配给 Java 虚拟机的内存越多，那么，系统总共能够产生的线程也就越少，两者成反比的关系。修改<code>-Xss</code>来减少分配给单个线程的空间，也可以增加系统总共内生产的线程数。</li> <li><code>StackOverflowError</code>堆栈溢出，：递归没返回，或者循环调用造成</li> <li>内存泄漏检查：系统资源（各方面的资源，堆、栈、线程等）在错误使用的情况下，导致使用完毕的资源无法回收（或没有回收），从而导致新的资源分配请求无法完成，引起系统错误。根据垃圾回收前后情况对比，同时根据对象引用情况（常见的集合对象引用）分析，基本都可以找到泄漏点。</li> <li>线程堆栈满：一个线程的空间大小是有限制的（1M），增加线程栈大小。<code>-Xss2m</code>，查看代码是否有造成泄露部分</li></ul> <h2 id="jvm-垃圾处理"><a href="#jvm-垃圾处理" aria-hidden="true" class="header-anchor">#</a> JVM 垃圾处理</h2> <h2 id="面向对象七大设计原则"><a href="#面向对象七大设计原则" aria-hidden="true" class="header-anchor">#</a> 面向对象七大设计原则</h2> <ul><li><strong>开</strong>：开闭原则。一个软件实体应当对扩展开发，对修改关闭</li> <li><strong>口</strong>：接口隔离原则。使用多个专门的接口比使用单一的总接口要好</li> <li><strong>合</strong>：组合/聚合复用原则。要尽量使用合成/聚合，尽量不要使用继承</li> <li><strong>里</strong>：里式替换原则。所有引用基类的地方必须可以使用其子类的对象替代</li> <li><strong>最</strong>：最少知识原则（迪米特法则）。一个对象应当对其他对象有尽可能少的了解</li> <li><strong>单</strong>：单一职责原则。把多于的职责分离出去，分别再创建一些类来完成每一个职责</li> <li><strong>依</strong>：依赖倒置原则。实现类依赖接口或抽象类，减少类间的耦合性，提高系统的稳定</li></ul> <h2 id="设计模式"><a href="#设计模式" aria-hidden="true" class="header-anchor">#</a> 设计模式</h2> <ul><li>创建型模式，共五种：抽象工厂模式、<strong>工厂方法模式</strong>、<strong>单例模式</strong>、建造者模式、原型模式。</li> <li>结构型模式，共七种：<strong>适配器模式</strong>、<strong>装饰器模式</strong>、<strong>代理模式</strong>、外观模式、桥接模式、组合模式、享元模式。</li> <li>行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。</li></ul> <h2 id="工厂方法模式"><a href="#工厂方法模式" aria-hidden="true" class="header-anchor">#</a> 工厂方法模式</h2> <p>定义一个<strong>创建对象的接口</strong>，让其<strong>子类自己决定实例化哪一个工厂类</strong>，工厂模式使其创建过程延迟到子类进行</p> <p>如果有新的对象增加，只需要增加一个<strong>具体的类</strong>和<strong>具体的工厂类</strong>即可</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃肉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Animal</span> <span class="token function">creatAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DogFactory</span> <span class="token keyword">implements</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Animal</span> <span class="token function">creatAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Factory</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Animal</span> a <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">creatAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="单例模式"><a href="#单例模式" aria-hidden="true" class="header-anchor">#</a> 单例模式</h2> <p>饿汉式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleto1</span> single <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> single<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>懒汉式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> single <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
    
    <span class="token keyword">public</span> <span class="token comment">/*synchronized*/</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>single <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            single <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> single<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>线程安全的，内部类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Inner</span><span class="token punctuation">.</span>s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="装饰者模式"><a href="#装饰者模式" aria-hidden="true" class="header-anchor">#</a> 装饰者模式</h2> <p><strong>动态地给一个对象添加一些额外的职责</strong>，同时又不改变其结构。就增加功能来说，装饰者模式相<strong>比生成子类更为灵活</strong>。</p> <p>如IO流<code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in))</code></p> <h2 id="日期时间处理"><a href="#日期时间处理" aria-hidden="true" class="header-anchor">#</a> 日期时间处理</h2> <ul><li><p>获取当前年月日时分秒</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> dt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 - 12，比Calendar强太多了</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>从1970 年1 月1 日0 时0 分0 秒到现在的毫秒数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">systemDefaultZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>取得某月的最开始/后一天</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">LocalDate</span> fisrtDay <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDate</span> lastDay <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>格式化日期（比8之前需要Formatter类来调用方法强多了）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2019-04-03T10:32:12.172</span>
<span class="token class-name">String</span> format <span class="token operator">=</span> localDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2019-04-03 10:32:12</span>
</code></pre></div></li> <li><p>昨天/明天的当前时刻（日期、时分秒等同理）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> yesterday <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2019-04-02T10:36:45.197</span>
</code></pre></div></li> <li><p>生日</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">MonthDay</span> birthday <span class="token operator">=</span> <span class="token class-name">MonthDay</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MonthDay</span> now <span class="token operator">=</span> <span class="token class-name">MonthDay</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//LocalDate也可以</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <br> <br> <br> <div id="vcomments"></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apple54whn/docs/edit/master/docs/interview/README.md" target="_blank" rel="noopener noreferrer">编辑文档！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新时间: </span> <span class="time">2019-7-6 6:18:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/interview/集合.html">
          集合
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8cb9cb7.js" defer></script><script src="/assets/js/2.3b02efce.js" defer></script><script src="/assets/js/8.d09e1b35.js" defer></script><script src="/assets/js/9.5ceebd53.js" defer></script>
  </body>
</html>
